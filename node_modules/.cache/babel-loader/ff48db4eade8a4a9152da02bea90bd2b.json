{"ast":null,"code":"import { Contract } from 'ethers';\nimport AccountRulesAbi from '../abis/AccountRules.json';\nlet instance = null;\nexport const accountRulesFactory = async ingressInstance => {\n  if (instance) return instance;\n  const ruleContractName = await ingressInstance.functions.RULES_CONTRACT();\n  const accountRulesAddress = await ingressInstance.functions.getContractAddress(ruleContractName);\n  instance = new Contract(accountRulesAddress, AccountRulesAbi.abi, ingressInstance.signer);\n  return instance;\n};","map":{"version":3,"sources":["C:/Users/Julia/Desktop/permissioning-smart-contracts-master/permissioning-smart-contracts-master/src/chain/contracts/AccountRules.ts"],"names":["Contract","AccountRulesAbi","instance","accountRulesFactory","ingressInstance","ruleContractName","functions","RULES_CONTRACT","accountRulesAddress","getContractAddress","abi","signer"],"mappings":"AAAA,SAASA,QAAT,QAAyB,QAAzB;AACA,OAAOC,eAAP,MAA4B,2BAA5B;AAIA,IAAIC,QAA6B,GAAG,IAApC;AAEA,OAAO,MAAMC,mBAAmB,GAAG,MAAOC,eAAP,IAA2C;AAC5E,MAAIF,QAAJ,EAAc,OAAOA,QAAP;AAEd,QAAMG,gBAAgB,GAAG,MAAMD,eAAe,CAACE,SAAhB,CAA0BC,cAA1B,EAA/B;AACA,QAAMC,mBAAmB,GAAG,MAAMJ,eAAe,CAACE,SAAhB,CAA0BG,kBAA1B,CAA6CJ,gBAA7C,CAAlC;AAEAH,EAAAA,QAAQ,GAAG,IAAIF,QAAJ,CAAaQ,mBAAb,EAAkCP,eAAe,CAACS,GAAlD,EAAuDN,eAAe,CAACO,MAAvE,CAAX;AACA,SAAOT,QAAP;AACD,CARM","sourcesContent":["import { Contract } from 'ethers';\nimport AccountRulesAbi from '../abis/AccountRules.json';\nimport { AccountIngress } from '../@types/AccountIngress';\nimport { AccountRules } from '../@types/AccountRules';\n\nlet instance: AccountRules | null = null;\n\nexport const accountRulesFactory = async (ingressInstance: AccountIngress) => {\n  if (instance) return instance;\n\n  const ruleContractName = await ingressInstance.functions.RULES_CONTRACT();\n  const accountRulesAddress = await ingressInstance.functions.getContractAddress(ruleContractName);\n\n  instance = new Contract(accountRulesAddress, AccountRulesAbi.abi, ingressInstance.signer) as AccountRules;\n  return instance;\n};\n"]},"metadata":{},"sourceType":"module"}