{"ast":null,"code":"import { Contract } from 'ethers';\nimport NodeRulesAbi from '../abis/NodeRules.json';\nlet instance = null;\nexport const nodeRulesFactory = async ingressInstance => {\n  if (instance) return instance;\n  const ruleContractName = await ingressInstance.functions.RULES_CONTRACT();\n  const nodeRulesAddress = await ingressInstance.functions.getContractAddress(ruleContractName);\n  instance = new Contract(nodeRulesAddress, NodeRulesAbi.abi, ingressInstance.signer);\n  return instance;\n};","map":{"version":3,"sources":["C:/Users/Julia/Desktop/permissioning-smart-contracts-master/permissioning-smart-contracts-master/src/chain/contracts/NodeRules.ts"],"names":["Contract","NodeRulesAbi","instance","nodeRulesFactory","ingressInstance","ruleContractName","functions","RULES_CONTRACT","nodeRulesAddress","getContractAddress","abi","signer"],"mappings":"AAAA,SAASA,QAAT,QAAyB,QAAzB;AACA,OAAOC,YAAP,MAAyB,wBAAzB;AAIA,IAAIC,QAA0B,GAAG,IAAjC;AAEA,OAAO,MAAMC,gBAAgB,GAAG,MAAOC,eAAP,IAAwC;AACtE,MAAIF,QAAJ,EAAc,OAAOA,QAAP;AAEd,QAAMG,gBAAgB,GAAG,MAAMD,eAAe,CAACE,SAAhB,CAA0BC,cAA1B,EAA/B;AACA,QAAMC,gBAAgB,GAAG,MAAMJ,eAAe,CAACE,SAAhB,CAA0BG,kBAA1B,CAA6CJ,gBAA7C,CAA/B;AAEAH,EAAAA,QAAQ,GAAG,IAAIF,QAAJ,CAAaQ,gBAAb,EAA+BP,YAAY,CAACS,GAA5C,EAAiDN,eAAe,CAACO,MAAjE,CAAX;AACA,SAAOT,QAAP;AACD,CARM","sourcesContent":["import { Contract } from 'ethers';\nimport NodeRulesAbi from '../abis/NodeRules.json';\nimport { NodeIngress } from '../@types/NodeIngress';\nimport { NodeRules } from '../@types/NodeRules';\n\nlet instance: NodeRules | null = null;\n\nexport const nodeRulesFactory = async (ingressInstance: NodeIngress) => {\n  if (instance) return instance;\n\n  const ruleContractName = await ingressInstance.functions.RULES_CONTRACT();\n  const nodeRulesAddress = await ingressInstance.functions.getContractAddress(ruleContractName);\n\n  instance = new Contract(nodeRulesAddress, NodeRulesAbi.abi, ingressInstance.signer) as NodeRules;\n  return instance;\n};\n"]},"metadata":{},"sourceType":"module"}